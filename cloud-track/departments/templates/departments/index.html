{% extends 'layouts/base.html' %}

{% block title %}Departments{% endblock %}

{% block styles %}
    <style>
        .dept-header {
            margin: 0 0 6px;
            font-size: 28px;
        }
        .dept-subtitle {
            margin: 0 0 20px;
            color: var(--muted);
        }
        .dept-grid {
            display: grid;
            grid-template-columns: repeat(4, minmax(0, 1fr));
            gap: 16px;
        }
        .dept-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 16px 32px rgba(6, 10, 24, 0.25);
            display: grid;
            gap: 8px;
        }
        .dept-logo {
            width: 100%;
            height: 140px;
            border-radius: 12px;
            object-fit: cover;
            border: 1px solid rgba(148, 163, 184, 0.2);
        }
        .dept-name {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
        }
        .dept-meta {
            color: var(--muted);
            font-size: 13px;
        }
    </style>
{% endblock %}

{% block content %}
    <h1 class="dept-header">Departments</h1>
    <p class="dept-subtitle">Overview of available departments.</p>

    <div class="dept-grid">
        {% for department in departments %}
            <article class="dept-card">
                {% if department.logo %}
                    <img class="dept-logo" src="{{ department.logo.url }}" alt="{{ department.name }}">
                {% endif %}
                <h2 class="dept-name">{{ department.name|default:department }}</h2>
                {% if department.id %}
                    <div class="dept-meta">ID: {{ department.id }}</div>
                {% endif %}
                {% if department.description %}
                    <div class="dept-meta">{{ department.description }}</div>
                {% endif %}
            </article>
        {% empty %}
            <article class="dept-card">
                <h2 class="dept-name">No departments found</h2>
            </article>
        {% endfor %}
    </div>
{% endblock %}